# Move fast and don't break your infra configuraion

- So today is Chef, Docker, Openstack, Puppet meetup. I would like to talk tool related to all of them.
- Especially forcus on Docker
   - So Container is future ?
	- Google says:
		- We start over 2billion containers per week
		- Everythingat Google runs in a container
		- [https://speakerdeck.com/jbeda/containers-at-scale](https://speakerdeck.com/jbeda/containers-at-scale)
	- Microsoft annouce
		- Docker and Microsoft: Integrating Docker with Windows Server and Microsoft Azure
		- [http://weblogs.asp.net/scottgu/docker-and-microsoft-integrating-docker-with-windows-server-and-microsoft-azure](http://weblogs.asp.net/scottgu/docker-and-microsoft-integrating-docker-with-windows-server-and-microsoft-azure)
- We need to move container ?
	- Anyone doesn't know, but we should try
- How ?
	- We may have already its own infrastructure 
	- infrastructure as a code
	-  Many company have its own infrastructure configuration like  Chef or Puppet, Ansible
- One of my opinion or answer is Packer
- Packer is 
	- an open source tool for creating identical machine images for multiple platforms from a single source configuration.
	- Machine Image is for OpenStack Image, AMI for Amazon EC2, Docker Image, DigitalOcean Image
	- able to use tools like Chef or Puppet, Ansible to install software onto the image
	- One of great Advantages Of Using Packer is portable
- So you can pivot your infrastructure by Packer
	- You can pivot from On-premise sever to:
		- Digital Ocean
		- Amazon 
		- Docker 
	- You can reuse your infrastrucure as code 
		- You can use Chef puppet, Ansible 
	- If you want to pivot to Docker, You don't need to write Dockerfile
- So why this is important
	- In a world where Docker isn't used everywhere, it is a burden to maintain multiple methods of building images
	- [https://news.ycombinator.com/item?id=7066002](https://news.ycombinator.com/item?id=7066002), Ask HN: Do you bake AMIs for AWS deployments?
- Let's try to pivot Docker with Chef cookbook
	- What we need is a json file for packer and our chef cookbook
	- This is overview
		- DockerHub -\> packer -\> Chef -\> baseImage -\> Private Docker Registry -\> Local/Dev/Stg/production environment
	- sample of machine.json
		- builder
		- provisioner
		- post-processor
	- Command
		- just `packer build`
- Demo 
	- â€¦
	- Takes time



